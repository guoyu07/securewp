---
layout: post
title: Прячем пользователей от перебора
date: 2014-12-21
category: user
tags: [.htaccess, author, RewriteCond, RewriteRule]
canonical: https://securemywp.ru/2014/12/21/прячем-пользователей-от-перебора/
---

Админа мы спрятали, сделав его пользователем с другим, хитрым именем. Однако, пользователи у вордпресса в любом случае есть, как минимум один, и всех их можно найти. Например, серией запросов вида <code>/?author=1,2,3…</code> Как с этим бороться?

Первое, что приходит в голову, поменять юзерам ID на достаточно большие числа, но сделать это надо очень аккуратно, согласовав изменения ID в таблице <code>wp_users</code> с <code>user_id</code> в других таблицах. Не пробовал, но должно работать.

Другой вариант — сделать редирект таких запросов как-то так:

<pre><code>
RewriteCond %{QUERY_STRING} author=d+
RewriteRule ^ /? [L,R=301]
</code></pre>

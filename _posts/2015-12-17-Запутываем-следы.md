---
layout: post
title: Запутываем следы
date: 2015-12-17
category: htaccess
tags: [.htaccess, Apache, Nginx, nginx.conf, RedirectMatch, wp-config.php]
canonical: https://securemywp.ru/2015/12/17/запутываем-следы/
---

Файла <code>wp-config.php</code> вообще [не должно быть](https://securemywp.ru/2014/12/04/убираем-конфиг-наверх/) в корне сайта. Но злоумышленнику сообщать об этом не обязательно. Пусть он думает, что конфиг находится в корне, и что он защищен. Поэтому 
<pre><code>
RedirectMatch 403 /wp-config\.php$
</code></pre>
или даже конструкция
<pre><code>
&lt;Files wp-config.php&gt;
order deny,allow
deny from all
&lt;/files&gt;
</code></pre>
в <code>.htaccess</code> не помешает.

Кстати, заодно ответим на вопрос, почему наши рекомендации обычно сформулированы для <code>Apache</code>. Потому что хостинг-провайдеры, как правило, устанавливают связку <code>Nginx-Apache</code> именно с тем, чтобы клиенты шаред-хостинга могли использовать привычный <code>.htaccess</code>. Если же вы сами администрируете сервер и предпочитаете чистый <code>Nginx</code>, переформулировать совет для <code>nginx.conf</code> для вас не должно составить труда.

